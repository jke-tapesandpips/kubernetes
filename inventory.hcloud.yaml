plugin: hetzner.hcloud.hcloud

compose:
  ansible_host: ipv4
  inventory_hostname: name

groups:
  hcloud: True
  hcloud_kubernetes: "'kubernetes' in labels.values()"
  hcloud_nbg: "'nbg' in location"
  hcloud_fsn: "'fsn' in location"

keyed_groups:
  - key: location
    prefix: hcloud
    parent_group: hcloud

  - key: labels.role
    prefix: hcloud
    parent_group: hcloud
